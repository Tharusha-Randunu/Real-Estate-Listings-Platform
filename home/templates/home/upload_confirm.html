{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Upload and Confirm</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
    <style>
        body {
            font-family: 'Poppins', sans-serif;
            background-image: url("{% static 'home/images/building.jpeg' %}");
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
            background-attachment: fixed;
            color: #000;
        }

        .section {
            background: rgba(255, 255, 255, 0.95);
            padding: 30px;
            margin-bottom: 30px;
            border-radius: 15px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }

        h1, h4 {
            color: #000;
            font-weight: bold;
            text-align: center;
        }

        .success-msg {
            color: green;
            font-size: 1.2rem;
            font-weight: 600;
            text-align: center;
        }

        .form-check-label {
            font-size: 0.95rem;
        }

        .img-preview {
            max-width: 100%;
            height: auto;
            display: block;
            margin: 20px auto;
            border-radius: 10px;
        }

        .btn-primary {
            border-radius: 25px;
        }
    </style>
</head>
<body>
    <div class="container my-5">
        <h1 class="mb-4">Finalize Your Listing</h1>

        {% if success %}
            <div class="section text-center">
                <p class="success-msg">üéâ Submitted successfully! Thanks for reaching out to us! üè°‚ú®</p>
                <img src="{{ image_url }}" alt="Uploaded Property" class="img-preview">
            </div>
        {% else %}
            <form action="" method="post" enctype="multipart/form-data">
                {% csrf_token %}

                <div class="section">
                    <h4>Upload a Photo of Your Property</h4>
                    <input type="file" name="property_image" accept="image/*" class="form-control mt-2" required>
                </div>

                <div class="section">
                    <div class="form-check">
                        <input class="form-check-input" type="checkbox" id="confirm" name="confirm" required>
                        <label class="form-check-label" for="confirm">
                            I confirm that I am the legal owner of this property or have received clear authorisation from the owner of the property to post this ad on behalf of them and understand that providing false information about the ownership is a criminal offence and can lead to prosecution.
                        </label>
                    </div>
                </div>

                {% if error %}
                    <div class="alert alert-danger">{{ error }}</div>
                {% endif %}

                <div class="text-center">
                    <button type="submit" class="btn btn-primary px-5 py-2">Submit</button>
                </div>
            </form>
        {% endif %}
    </div>
</body>
</html>
